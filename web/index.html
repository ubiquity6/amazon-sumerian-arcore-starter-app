<!DOCTYPE html>
<meta charset="utf-8">
<canvas width="400px" height="400px"></canvas>

<script>

// Select the canvas from the document.
var canvas = document.querySelector("canvas");

// Create the WebGL context, with fallback for experimental support.
var gl = canvas.getContext("webgl");

var currentFrame = 0;
var framesToSwitch = 30;

function renderFrame(timestamp) {
        
    var color = Math.floor(currentFrame / framesToSwitch) % 2;

    gl.clearColor(color, 0,0,1);    
    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

    if (window.Android && window.Android.setCurrentFrame) {        
        //console.log(`JS frame: ${currentFrame}`);        
        window.Android.setCurrentFrame(currentFrame);
    }    

    currentFrame++;

    window.requestAnimationFrame(renderFrame);
}

renderFrame(0);
</script>